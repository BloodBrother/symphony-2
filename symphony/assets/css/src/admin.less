/**
 * Symphony Admin Master Layout
 */

/* Less variables --------*/
@import "variables";

/* Master Layout --------*/
body {
	min-width: var(--xxs);
	min-height: 100%;
	/* Master Layout Base --------*/
	>nav {
		max-width: 100%;
		overflow: auto;

		&::-webkit-scrollbar {
			background-color: var(--scrollbar-background-color);
			height: var(--scrollbar-height);
			width: var(--scrollbar-width);
		}

		&:hover::-webkit-scrollbar {
			&-thumb {
				background-color: var(--scrollbar-thumb-background-color);
				border-radius: var(--scrollbar-thumb-border-radius);
			}
		}
	}

	>header {
		/* Center elements & rhythm --------*/
		margin: var(--standard-container-rhythm);
		display: flex;
		align-items: center;
		justify-content: space-between;

		h1 {

			a {
				/* Center relative to sun --------*/
				display: inline-flex;
				flex-direction: column;
				align-items: center;
				/* Rhythm --------*/
				>*+* {
					margin-top: var(--standard-inner-rhythm);
				}
			}
		}
	}
	
	/* Master Layout for Narrow Viewports --------*/
	@media (max-width: @sm) {
		/* Fix the nav and fit the screen --------*/
		>nav {
			position: fixed;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			background-color: var(--backframe-background-color);
			padding: var(--standard-container-rhythm);
			display: flex;
			flex-direction: column;
			padding-top: var(--spacing-larger);
			z-index: 11;

			&:not(.is-opened) {
				opacity: 0;
				pointer-events: none;
			}
		}
		/* Make sure the header is over the nav --------*/
		>header {
			position: relative;
			z-index: 12;
			
		}
		/* Make the context span its whole line --------*/
		>aside {
			clear: both;
			margin-top: var(--standard-container-rhythm);
			margin-bottom: var(--standard-container-rhythm);
		}
	}

	/* Master Layout for Wide Viewports --------*/
	@media (min-width: @sm) {
		padding: var(--standard-container-rhythm);

		>header {
			/* Deploy children in the master flow --------*/
			display: contents;
			/* Align the icon and title at the left of the content --------*/
			h1 {
				float: left;
				width: var(--navigation-sidebar-width);
				max-width: var(--navigation-sidebar-max-width);
				height: var(--spacing-large);
				top: var(--standard-container-rhythm);
				position: sticky;
				
				>a {
					align-items: flex-start;
				}
			}
			/* Align session element to the right of the content --------*/
			>div {
				float: right;
			}
		}
		/* Align the nav at the left of the content --------*/
		>nav {
			margin-top: var(--standard-container-rhythm);
			margin-bottom: var(--standard-container-rhythm);
			margin-left: calc(-1 * var(--standard-container-rhythm));
			float: left;
			clear: left;
			position: sticky;
			box-sizing: border-box;
			width: var(--navigation-sidebar-width);
			max-width: var(--navigation-sidebar-max-width);
			padding-left: var(--standard-container-rhythm);
			padding-right: var(--standard-container-rhythm);
			top: calc(var(--spacing-large) + var(--standard-container-rhythm) * 2);
			background-color: var(--backframe-background-color);
			max-height: calc(100vh - calc(var(--spacing-large) + var(--standard-container-rhythm) * 4));
		}

		/* Force alignment / prevent background bleeding --------*/
		>aside, >main {
			margin-left: var(--navigation-sidebar-width);
		}
		
		/* Clear the floating session widget */
		>main {
			clear: right;
		}

		>footer {
			position: sticky;
			bottom: var(--standard-container-rhythm);
			clear: left;
		}
	}

	@media (min-width: @lg) {
		>main {
			padding-right: var(--spacing-broader);
		}
	}
}

/* Minimal styles for the burger button --------*/
#btn-toggle-header-mobile {
	color: var(--color-main-dark);
	&:hover {
		color: var(--color-accent);
	}

	@media (min-width: @sm){
		display: none;
	}
}

/* Version element --------*/
#version {
	font-size: var(--text-smaller);
	color: var(--color-main-light);
}